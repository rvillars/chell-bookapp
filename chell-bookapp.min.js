"use strict";function filterById(a,b){return a.filter(function(a){return a.id===b})[0]}var bookapp=angular.module("chell-bookapp",["templates-chell-bookapp","ui.bootstrap","ui.router","ngResource"]);bookapp.config(["$stateProvider",function(a){a.state("bookapp",{url:"/bookapp",views:{main:{controller:"BookappController",templateUrl:"templates/bookapp.tpl.html"}},data:{pageTitle:"Bookapp"}})}]);var bookapp=angular.module("chell-bookapp");bookapp.factory("Book",["$resource",function(a){return a("http://localhost:8080/rest/books/:bookId",{bookId:"@id"},{update:{method:"PUT"}})}]),bookapp.factory("Author",["$resource",function(a){return a("http://localhost:8080/rest/authors/:authorId",{authorId:"@id"},{update:{method:"PUT"}})}]);var bookapp=angular.module("chell-bookapp");bookapp.controller("BookappController",["$scope",function(){}]),bookapp.controller("BookController",["$scope","Book","Author",function(a,b,c){a.currentBook=new b,a.currentBook.releaseDate=new Date,a.books=b.query(),a.authors=c.query(),a.showId=!1,a.cancel=function(){a.currentBook=new b,a.currentBook.releaseDate=new Date},a.save=function(){var c=null==a.currentBook.id;c?(a.currentBook=b.save(a.currentBook),a.books.push(a.currentBook)):a.currentBook=b.update(a.currentBook),a.cancel()},a.edit=function(b){a.currentBook=b,a.currentBook.author=filterById(a.authors,b.author.id)},a.remove=function(c,d){a.books.splice(c,1),b.remove({bookId:d})}}]),bookapp.controller("AuthorController",["$scope","Author",function(a,b){a.currntAuthor=new b,a.authors=b.query(),a.showId=!1,a.cancel=function(){a.currentAuthor=new b},a.save=function(){var c=null==a.currentAuthor.id;c?(a.currentAuthor=b.save(a.currentAuthor),a.authors.push(a.currentAuthor)):a.currentAuthor=b.update(a.currentAuthor),a.cancel()},a.edit=function(b){a.currentAuthor=b},a.remove=function(c,d){a.authors.splice(c,1),b.remove({authorId:d})}}]),bookapp.controller("NavController",["$scope","$rootScope","$route",function(a,b,c){b.route=c}]),angular.module("templates-chell-bookapp",["templates/authors.tpl.html","templates/bookapp.tpl.html","templates/books.tpl.html"]),angular.module("templates/authors.tpl.html",[]).run(["$templateCache",function(a){a.put("templates/authors.tpl.html",'<div ng-controller="AuthorController">\n    <form id="form" name="form">\n        <fieldset>\n            <legend>Current Author</legend>\n            <div class="form-group">\n                <label for="firstname">Firstname</label>\n                <input id="firstname" required type="text" ng-model="currentAuthor.firstname" placeholder="Enter an author firstname..." class="form-control"\n                       style="width: 380px"/>\n            </div>\n            <div class="form-group">\n                <label for="lastname">Lastname</label>\n                <input id="lastname" required type="text" ng-model="currentAuthor.lastname" placeholder="Enter an author lastname..." class="form-control"\n                       style="width: 380px"/>\n            </div>\n            <div class="form-group">\n                <label for="id" ng-show="showId">Id</label>\n                <input id="id" type="text" disabled="disabled" ng-model="currentAuthor.id" ng-show="showId" class="form-control" style="width: 60px"/>\n            </div>\n        </fieldset>\n        <button id="save" ng-click="save()" ng-disabled="form.$invalid" class="btn btn-primary">Save Author</button>\n        <button id="cancel" ng-click="cancel()" class="btn">Cancel</button>\n    </form>\n\n    <form id="list">\n        <fieldset>\n            <legend>Authors</legend>\n            <label for="showId" class="checkbox">\n                <input id="showId" type="checkbox" ng-model="showId">Show Id</input>\n            </label>\n            <table id="table" class="table table-striped table-bordered table-condensed">\n                <thead>\n                <tr>\n                    <th>Firstname</th>\n                    <th>Lastname</th>\n                    <th ng-show="showId">Id</th>\n                    <th colspan="2">Actions</th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr ng-repeat="author in authors">\n                    <td>{{author.firstname}}</td>\n                    <td>{{author.lastname}}</td>\n                    <td ng-show="showId">{{author.id}}</td>\n                    <td>\n                        <button id="edit" ng-click="edit(author)" class="btn btn-xs">Edit</button>\n                    </td>\n                    <td>\n                        <button id="delete" ng-click="remove($index, author.id)" class="btn btn-xs">Delete</button>\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n        </fieldset>\n    </form>\n</div>')}]),angular.module("templates/bookapp.tpl.html",[]).run(["$templateCache",function(a){a.put("templates/bookapp.tpl.html",'<div class="container">\n    <!-- Main hero unit for a primary marketing message or call to action -->\n    <div class="jumbotron">\n        <div class="row">\n            <div class="col-md-2">\n                <img src="assets/books.png" class="img-rounded" style="width: 140px;">\n            </div>\n            <div class="col-md-8">\n                <h1>BookApp</h1>\n\n                <p>This is the BFH BookApp example website.</p>\n            </div>\n        </div>\n    </div>\n    <!--<div ng-view></div>-->\n</div>\n\n<div chell-portlet-container>\n    <div class="col-md-12 column" id="col1">\n\n        <!-- Book Portlet -->\n        <chell-portlet title="Books">\n            <ng-include src="\'templates/books.tpl.html\'"></ng-include>\n        </chell-portlet>\n\n        <!-- Author Portlet -->\n        <chell-portlet title="Authors" minimized="true">\n            <ng-include src="\'templates/authors.tpl.html\'"></ng-include>\n        </chell-portlet>\n\n    </div>\n</div>')}]),angular.module("templates/books.tpl.html",[]).run(["$templateCache",function(a){a.put("templates/books.tpl.html",'<div ng-controller="BookController">\n    <form id="form" name="form">\n        <fieldset>\n            <legend>Current Book</legend>\n            <div class="form-group">\n                <label for="title">Title</label>\n                <input id="title" required type="text" ng-model="currentBook.title" placeholder="Enter a book title..." class="form-control"\n                       style="width: 380px;"/>\n            </div>\n            <div class=" form-group">\n                <label for="releaseDate">Release date</label>\n                <input id="releaseDate" type="text" ng-model="currentBook.releaseDate" datepicker-popup="dd.MM.yyyy"\n                       class="form-control" style="width: 220px;"/>\n            </div>\n            <div class=" form-group">\n                <label for="author">Author</label>\n                <select id="author" required ng-model="currentBook.author"\n                        ng-options="author as (author.firstname + \' \' + author.lastname) for author in authors" class="form-control" style="width: 220px;">\n                    <option value="">-- choose author --</option>\n                </select>\n            </div>\n            <div class="form-group">\n                <label for="id" ng-show="showId">Id</label>\n                <input id="id" type="text" disabled="disabled" ng-model="currentBook.id" ng-show="showId" class="form-control" style="width: 60px;"/>\n            </div>\n        </fieldset>\n        <button id="save" ng-click="save()" ng-disabled="form.$invalid" class="btn btn-primary">Save Book</button>\n        <button id="cancel" ng-click="cancel()" class="btn">Cancel</button>\n    </form>\n\n    <form id="list">\n        <fieldset>\n            <legend>Books</legend>\n            <label for="showId" class="checkbox">\n                <input id="showId" type="checkbox" ng-model="showId">Show Id</input>\n            </label>\n            <table id="table" class="table table-striped table-bordered table-condensed">\n                <thead>\n                <tr>\n                    <th>Titel</th>\n                    <th>Release Date</th>\n                    <th>Author</th>\n                    <th ng-show="showId">Id</th>\n                    <th colspan="2">Actions</th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr ng-repeat="book in books">\n                    <td>{{book.title}}</td>\n                    <td>{{book.releaseDate | date:\'dd.MM.yyyy\'}}</td>\n                    <td>{{book.author.firstname }} {{book.author.lastname}}</td>\n                    <td ng-show="showId">{{book.id}}</td>\n                    <td>\n                        <button id="edit" ng-click="edit(book)" class="btn btn-xs">Edit</button>\n                    </td>\n                    <td>\n                        <button id="delete" ng-click="remove($index, book.id)" class="btn btn-xs">Delete</button>\n                    </td>\n                </tr>\n                </tbody>\n            </table>\n        </fieldset>\n    </form>\n</div>')}]);
//# sourceMappingURL=chell-bookapp.min.js.map